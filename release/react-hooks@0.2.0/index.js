import{useEffect as S,useState as g}from"react";function E(e,n){let[o,t]=g(e);return S(()=>{let r=setTimeout(()=>t(e),n||500);return()=>{clearTimeout(r)}},[e,n]),o}import{useCallback as T,useLayoutEffect as y,useState as p}from"react";import{useEffect as h,useRef as w}from"react";function u(e,n,o){let t=w();h(()=>{let r=(o==null?void 0:o.current)||window;if(!(r&&r.addEventListener))return;t.current!==n&&(t.current=n);let s=a=>{(t==null?void 0:t.current)&&t.current(a)};return r.addEventListener(e,s),()=>{r.removeEventListener(e,s)}},[e,o,n])}var l=u;function v(){let[e,n]=p(null),[o,t]=p({width:0,height:0}),r=T(()=>{t({width:(e==null?void 0:e.offsetWidth)||0,height:(e==null?void 0:e.offsetHeight)||0})},[e==null?void 0:e.offsetHeight,e==null?void 0:e.offsetWidth]);return l("resize",r),y(()=>{r()},[e==null?void 0:e.offsetHeight,e==null?void 0:e.offsetWidth]),[n,o]}import{useEffect as x,useReducer as L,useRef as m}from"react";function b(e,n){let o=m({}),t=m(!1),r={error:void 0,data:void 0},s=(c,d)=>{switch(d.type){case"loading":return{...r};case"fetched":return{...r,data:d.payload};case"error":return{...r,error:d.payload};default:return c}},[a,i]=L(s,r);return x(()=>e?((async()=>{if(i({type:"loading"}),o.current[e]){i({type:"fetched",payload:o.current[e]});return}try{let d=await fetch(e,n);if(!d.ok)throw new Error(d.statusText);let f=await d.json();if(o.current[e]=f,t.current)return;i({type:"fetched",payload:f})}catch(d){if(t.current)return;i({type:"error",payload:d})}})(),()=>{t.current=!0}):void 0,[e]),a}import{useEffect as z,useState as V}from"react";function W(e,n){let o=()=>{if(typeof window=="undefined")return n;try{let i=window.localStorage.getItem(e);return i?A(i):n}catch(i){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,i),n}},[t,r]=V(o),s=i=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let c=i instanceof Function?i(t):i;window.localStorage.setItem(e,JSON.stringify(c)),r(c),window.dispatchEvent(new Event("local-storage"))}catch(c){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,c)}};z(()=>{r(o())},[]);let a=()=>{r(o())};return u("storage",a),u("local-storage",a),[t,s]}function A(e){try{return e==="undefined"?void 0:JSON.parse(e!=null?e:"")}catch{console.log("parsing error on",{value:e});return}}import{useEffect as R,useState as C}from"react";function D(e){let n=()=>{if(typeof window=="undefined")return null;try{let s=window.localStorage.getItem(e);return s?JSON.parse(s):null}catch(s){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,s),null}},[o,t]=C(n);R(()=>{t(n())},[]);let r=()=>{t(n())};return u("storage",r),u("local-storage",r),o}import{useLayoutEffect as H,useState as F}from"react";function M(){let e=()=>{if(typeof window!="undefined"&&window.screen)return window.screen},[n,o]=F(e());function t(){o(e())}return u("resize",t),H(()=>{t()},[]),n}import{useEffect as O,useState as $}from"react";function k(e){let[n,o]=$(e?"loading":"idle");return O(()=>{if(!e){o("idle");return}let t=document.querySelector(`script[src="${e}"]`);if(t)o(t.getAttribute("data-status"));else{t=document.createElement("script"),t.src=e,t.async=!0,t.setAttribute("data-status","loading"),document.body.appendChild(t);let s=a=>{t==null||t.setAttribute("data-status",a.type==="load"?"ready":"error")};t.addEventListener("load",s),t.addEventListener("error",s)}let r=s=>{o(s.type==="load"?"ready":"error")};return t.addEventListener("load",r),t.addEventListener("error",r),()=>{t&&(t.removeEventListener("load",r),t.removeEventListener("error",r))}},[e]),n}import{useEffect as q,useState as I}from"react";function J(e,n){let[o,t]=I(e||n?"loading":"idle");return q(()=>{if(!e||!n){t("idle");return}let r=document.querySelector(`style[id="${e}"]`);if(r)t(r.getAttribute("data-status"));else{r=document.createElement("style"),r.innerHTML=n,r.setAttribute("data-status","loading"),document.body.appendChild(r);let a=i=>{r==null||r.setAttribute("data-status",i.type==="load"?"ready":"error")};r.addEventListener("load",a),r.addEventListener("error",a)}let s=a=>{t(a.type==="load"?"ready":"error")};return r.addEventListener("load",s),r.addEventListener("error",s),()=>{r&&(r.removeEventListener("load",s),r.removeEventListener("error",s))}},[n]),o}import{useCallback as j,useState as N}from"react";function B(e=!1){let[n,o]=N(e),t=j(()=>o(r=>!r),[]);return[n,t]}import{useLayoutEffect as G,useState as K}from"react";function P(){let[e,n]=K({width:0,height:0}),o=()=>{n({width:window.innerWidth,height:window.innerHeight})};return u("resize",o),G(()=>{o()},[]),e}export{E as useDebounce,v as useElementSize,u as useEventListener,b as useFetch,W as useLocalStorage,D as useReadLocalStorage,M as useScreen,k as useScript,J as useStyles,B as useToggle,P as useWindowSize};
