import{useCallback as E,useEffect as g,useState as f}from"react";var h=(e,o=!0)=>{let[n,t]=f("idle"),[r,s]=f(null),[i,u]=f(null),d=E(()=>(t("pending"),s(null),u(null),e().then(a=>{s(a),t("success")}).catch(a=>{u(a),t("error")})),[e]);return g(()=>{o&&d()},[d,o]),{execute:d,status:n,value:r,error:i}};import{useEffect as w,useState as y}from"react";function x(e,o){let[n,t]=y(e);return w(()=>{let r=setTimeout(()=>t(e),o||500);return()=>{clearTimeout(r)}},[e,o]),n}var v=()=>{let e=typeof navigator=="undefined"?"SSR":navigator.userAgent,o=()=>Boolean(e.match(/SSR/i)),n=()=>Boolean(e.match(/Android/i)),t=()=>Boolean(e.match(/iPhone|iPad|iPod/i)),r=()=>Boolean(n()||t());return{isAndroid:n,isIos:t,isMobile:r,isDesktop:()=>Boolean(!r()&&!o()),isSSR:o}};import{useCallback as b,useLayoutEffect as z,useState as m}from"react";import{useEffect as T,useRef as L}from"react";function c(e,o,n){let t=L();T(()=>{let r=(n==null?void 0:n.current)||window;if(!(r&&r.addEventListener))return;t.current!==o&&(t.current=o);let s=i=>{(t==null?void 0:t.current)&&t.current(i)};return r.addEventListener(e,s),()=>{r.removeEventListener(e,s)}},[e,n,o])}var p=c;function A(){let[e,o]=m(null),[n,t]=m({width:0,height:0}),r=b(()=>{t({width:(e==null?void 0:e.offsetWidth)||0,height:(e==null?void 0:e.offsetHeight)||0})},[e==null?void 0:e.offsetHeight,e==null?void 0:e.offsetWidth]);return p("resize",r),z(()=>{r()},[e==null?void 0:e.offsetHeight,e==null?void 0:e.offsetWidth]),[o,n]}import{useEffect as D,useReducer as R,useRef as S}from"react";function V(e,o){let n=S({}),t=S(!1),r={error:void 0,data:void 0},s=(d,a)=>{switch(a.type){case"loading":return{...r};case"fetched":return{...r,data:a.payload};case"error":return{...r,error:a.payload};default:return d}},[i,u]=R(s,r);return D(()=>e?((async()=>{if(u({type:"loading"}),n.current[e]){u({type:"fetched",payload:n.current[e]});return}try{let a=await fetch(e,o);if(!a.ok)throw new Error(a.statusText);let l=await a.json();if(n.current[e]=l,t.current)return;u({type:"fetched",payload:l})}catch(a){if(t.current)return;u({type:"error",payload:a})}})(),()=>{t.current=!0}):void 0,[e]),i}import{useEffect as W,useState as k}from"react";function P(e){let[o,n]=k(!1);function t({key:s}){s===e&&n(!0)}let r=({key:s})=>{s===e&&n(!1)};return W(()=>(window.addEventListener("keydown",t),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",r)}),[]),o}import{useEffect as H,useState as C}from"react";function O(e,o){let n=()=>{if(typeof window=="undefined")return o;try{let u=window.localStorage.getItem(e);return u?M(u):o}catch(u){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,u),o}},[t,r]=C(n),s=u=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let d=u instanceof Function?u(t):u;window.localStorage.setItem(e,JSON.stringify(d)),r(d),window.dispatchEvent(new Event("local-storage"))}catch(d){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,d)}};H(()=>{r(n())},[]);let i=()=>{r(n())};return c("storage",i),c("local-storage",i),[t,s]}function M(e){try{return e==="undefined"?void 0:JSON.parse(e!=null?e:"")}catch{console.log("parsing error on",{value:e});return}}import{useRef as $,useEffect as j}from"react";function F(e){let o=$();return j(()=>{o.current=e},[e]),o.current}import{useEffect as B,useState as I}from"react";function q(e){let o=()=>{if(typeof window=="undefined")return null;try{let s=window.localStorage.getItem(e);return s?JSON.parse(s):null}catch(s){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,s),null}},[n,t]=I(o);B(()=>{t(o())},[]);let r=()=>{t(o())};return c("storage",r),c("local-storage",r),n}import{useLayoutEffect as J,useState as K}from"react";function N(){let e=()=>{if(typeof window!="undefined"&&window.screen)return window.screen},[o,n]=K(e());function t(){n(e())}return c("resize",t),J(()=>{t()},[]),o}import{useEffect as U,useState as Y}from"react";function G(e){let[o,n]=Y(e?"loading":"idle");return U(()=>{if(!e){n("idle");return}let t=document.querySelector(`script[src="${e}"]`);if(t)n(t.getAttribute("data-status"));else{t=document.createElement("script"),t.src=e,t.async=!0,t.setAttribute("data-status","loading"),document.body.appendChild(t);let s=i=>{t==null||t.setAttribute("data-status",i.type==="load"?"ready":"error")};t.addEventListener("load",s),t.addEventListener("error",s)}let r=s=>{n(s.type==="load"?"ready":"error")};return t.addEventListener("load",r),t.addEventListener("error",r),()=>{t&&(t.removeEventListener("load",r),t.removeEventListener("error",r))}},[e]),o}import{useEffect as Q,useState as X}from"react";function Z(e,o){let[n,t]=X(e||o?"loading":"idle");return Q(()=>{if(!e||!o){t("idle");return}let r=document.querySelector(`style[id="${e}"]`);if(r)t(r.getAttribute("data-status"));else{r=document.createElement("style"),r.innerHTML=o,r.setAttribute("data-status","loading"),document.body.appendChild(r);let i=u=>{r==null||r.setAttribute("data-status",u.type==="load"?"ready":"error")};r.addEventListener("load",i),r.addEventListener("error",i)}let s=i=>{t(i.type==="load"?"ready":"error")};return r.addEventListener("load",s),r.addEventListener("error",s),()=>{r&&(r.removeEventListener("load",s),r.removeEventListener("error",s))}},[o]),n}import{useLayoutEffect as _}from"react";function ee(e){_(()=>{for(let o in e)document.documentElement.style.setProperty(`--${o}`,e[o])},[e])}import{useCallback as te,useState as re}from"react";function oe(e=!1){let[o,n]=re(e),t=te(()=>n(r=>!r),[]);return[o,t]}import{useEffect as ne,useRef as se}from"react";function ue(e,o){let n=se();ne(()=>{if(n.current){let t=Object.keys({...n.current,...o}),r={};t.forEach(s=>{n.current[s]!==o[s]&&(r[s]={from:n.current[s],to:o[s]})}),Object.keys(r).length&&console.log("[why-did-you-update]",e,r)}n.current=o})}import{useLayoutEffect as ie,useState as ae}from"react";function ce(){let[e,o]=ae({width:0,height:0}),n=()=>{o({width:window.innerWidth,height:window.innerHeight})};return c("resize",n),ie(()=>{n()},[]),e}export{h as useAsync,x as useDebounce,v as useDeviceDetect,A as useElementSize,c as useEventListener,V as useFetch,P as useKeyPress,O as useLocalStorage,F as usePrevious,q as useReadLocalStorage,N as useScreen,G as useScript,Z as useStyles,ee as useTheme,oe as useToggle,ue as useWhyDidYouUpdate,ce as useWindowSize};
