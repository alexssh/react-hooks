import{useCallback as h,useEffect as w,useState as l}from"react";var x=(e,r=!0)=>{let[n,t]=l("idle"),[o,s]=l(null),[a,i]=l(null),c=h(()=>(t("pending"),s(null),i(null),e().then(u=>{s(u),t("success")}).catch(u=>{i(u),t("error")})),[e]);return w(()=>{r&&c()},[c,r]),{execute:c,status:n,value:o,error:a}};import{useEffect as v,useState as y}from"react";function T(e,r){let[n,t]=y(e);return v(()=>{let o=setTimeout(()=>t(e),r||500);return()=>{clearTimeout(o)}},[e,r]),n}var b=()=>{let e=typeof navigator=="undefined"?"SSR":navigator.userAgent,r=()=>Boolean(e.match(/SSR/i)),n=()=>Boolean(e.match(/Android/i)),t=()=>Boolean(e.match(/iPhone|iPad|iPod/i)),o=()=>Boolean(n()||t());return{isAndroid:n,isIos:t,isMobile:o,isDesktop:()=>Boolean(!o()&&!r()),isSSR:r}};import{useCallback as z,useLayoutEffect as A,useState as S}from"react";import{useEffect as L,useRef as P}from"react";function d(e,r,n){let t=P();L(()=>{let o=(n==null?void 0:n.current)||window;if(!(o&&o.addEventListener))return;t.current!==r&&(t.current=r);let s=a=>{(t==null?void 0:t.current)&&t.current(a)};return o.addEventListener(e,s),()=>{o.removeEventListener(e,s)}},[e,n,r])}var m=d;function D(){let[e,r]=S(null),[n,t]=S({width:0,height:0}),o=z(()=>{t({width:(e==null?void 0:e.offsetWidth)||0,height:(e==null?void 0:e.offsetHeight)||0})},[e==null?void 0:e.offsetHeight,e==null?void 0:e.offsetWidth]);return m("resize",o),A(()=>{o()},[e==null?void 0:e.offsetHeight,e==null?void 0:e.offsetWidth]),[r,n]}import{useEffect as R,useReducer as V,useRef as g}from"react";function k(e,r){let n=g({}),t=g(!1),o={error:void 0,data:void 0},s=(c,u)=>{switch(u.type){case"loading":return{...o};case"fetched":return{...o,data:u.payload};case"error":return{...o,error:u.payload};default:return c}},[a,i]=V(s,o);return R(()=>e?((async()=>{if(i({type:"loading"}),n.current[e]){i({type:"fetched",payload:n.current[e]});return}try{let u=await fetch(e,r);if(!u.ok)throw new Error(u.statusText);let f=await u.json();if(n.current[e]=f,t.current)return;i({type:"fetched",payload:f})}catch(u){if(t.current)return;i({type:"error",payload:u})}})(),()=>{t.current=!0}):void 0,[e]),a}import{useState as p,useEffect as E}from"react";var C=(e,r=!1)=>{let[n,t]=p(!0),[o,s]=p(),[a,i]=p(),c=f=>{t(!1),i(f)},u=f=>{t(!1),s(f)};return E(()=>{navigator.geolocation.getCurrentPosition(c,u,e)},[]),E(()=>{if(r){navigator.geolocation.getCurrentPosition(c,u,e);let f=navigator.geolocation.watchPosition(c,u,e);return()=>{navigator.geolocation.clearWatch(f)}}}),{loading:n,error:o,position:a}};import{useEffect as W,useState as H}from"react";function O(e){let[r,n]=H(!1);function t({key:s}){s===e&&n(!0)}let o=({key:s})=>{s===e&&n(!1)};return W(()=>(window.addEventListener("keydown",t),window.addEventListener("keyup",o),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",o)}),[]),r}import{useEffect as M,useState as $}from"react";function j(e,r){let n=()=>{if(typeof window=="undefined")return r;try{let i=window.localStorage.getItem(e);return i?F(i):r}catch(i){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,i),r}},[t,o]=$(n),s=i=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let c=i instanceof Function?i(t):i;window.localStorage.setItem(e,JSON.stringify(c)),o(c),window.dispatchEvent(new Event("local-storage"))}catch(c){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,c)}};M(()=>{o(n())},[]);let a=()=>{o(n())};return d("storage",a),d("local-storage",a),[t,s]}function F(e){try{return e==="undefined"?void 0:JSON.parse(e!=null?e:"")}catch{console.log("parsing error on",{value:e});return}}import{useRef as G,useEffect as I}from"react";function B(e){let r=G();return I(()=>{r.current=e},[e]),r.current}import{useEffect as q,useState as J}from"react";function K(e){let r=()=>{if(typeof window=="undefined")return null;try{let s=window.localStorage.getItem(e);return s?JSON.parse(s):null}catch(s){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,s),null}},[n,t]=J(r);q(()=>{t(r())},[]);let o=()=>{t(r())};return d("storage",o),d("local-storage",o),n}import{useLayoutEffect as N,useState as U}from"react";function Y(){let e=()=>{if(typeof window!="undefined"&&window.screen)return window.screen},[r,n]=U(e());function t(){n(e())}return d("resize",t),N(()=>{t()},[]),r}import{useEffect as Q,useState as X}from"react";function Z(e){let[r,n]=X(e?"loading":"idle");return Q(()=>{if(!e){n("idle");return}let t=document.querySelector(`script[src="${e}"]`);if(t)n(t.getAttribute("data-status"));else{t=document.createElement("script"),t.src=e,t.async=!0,t.setAttribute("data-status","loading"),document.body.appendChild(t);let s=a=>{t==null||t.setAttribute("data-status",a.type==="load"?"ready":"error")};t.addEventListener("load",s),t.addEventListener("error",s)}let o=s=>{n(s.type==="load"?"ready":"error")};return t.addEventListener("load",o),t.addEventListener("error",o),()=>{t&&(t.removeEventListener("load",o),t.removeEventListener("error",o))}},[e]),r}import{useEffect as _,useState as ee}from"react";function te(e,r){let[n,t]=ee(e||r?"loading":"idle");return _(()=>{if(!e||!r){t("idle");return}let o=document.querySelector(`style[id="${e}"]`);if(o)t(o.getAttribute("data-status"));else{o=document.createElement("style"),o.innerHTML=r,o.setAttribute("data-status","loading"),document.body.appendChild(o);let a=i=>{o==null||o.setAttribute("data-status",i.type==="load"?"ready":"error")};o.addEventListener("load",a),o.addEventListener("error",a)}let s=a=>{t(a.type==="load"?"ready":"error")};return o.addEventListener("load",s),o.addEventListener("error",s),()=>{o&&(o.removeEventListener("load",s),o.removeEventListener("error",s))}},[r]),n}import{useLayoutEffect as oe}from"react";function re(e){oe(()=>{for(let r in e)document.documentElement.style.setProperty(`--${r}`,e[r])},[e])}import{useCallback as ne,useState as se}from"react";function ie(e=!1){let[r,n]=se(e),t=ne(()=>n(o=>!o),[]);return[r,t]}import{useEffect as ae,useRef as ue}from"react";function ce(e,r){let n=ue();ae(()=>{if(n.current){let t=Object.keys({...n.current,...r}),o={};t.forEach(s=>{n.current[s]!==r[s]&&(o[s]={from:n.current[s],to:r[s]})}),Object.keys(o).length&&console.log("[why-did-you-update]",e,o)}n.current=r})}import{useLayoutEffect as de,useState as fe}from"react";function le(){let[e,r]=fe({width:0,height:0}),n=()=>{r({width:window.innerWidth,height:window.innerHeight})};return d("resize",n),de(()=>{n()},[]),e}export{x as useAsync,T as useDebounce,b as useDeviceDetect,D as useElementSize,d as useEventListener,k as useFetch,C as useGeolocation,O as useKeyPress,j as useLocalStorage,B as usePrevious,K as useReadLocalStorage,Y as useScreen,Z as useScript,te as useStyles,re as useTheme,ie as useToggle,ce as useWhyDidYouUpdate,le as useWindowSize};
