import{useCallback as h,useEffect as w,useState as l}from"react";var v=(e,o=!0)=>{let[n,t]=l("idle"),[r,s]=l(null),[a,i]=l(null),c=h(()=>(t("pending"),s(null),i(null),e().then(u=>{s(u),t("success")}).catch(u=>{i(u),t("error")})),[e]);return w(()=>{o&&c()},[c,o]),{execute:c,status:n,value:r,error:a}};import{useEffect as x,useState as y}from"react";function T(e,o){let[n,t]=y(e);return x(()=>{let r=setTimeout(()=>t(e),o||500);return()=>{clearTimeout(r)}},[e,o]),n}var L=()=>{let e=typeof navigator=="undefined"?"SSR":navigator.userAgent,o=()=>Boolean(e.match(/SSR/i)),n=()=>Boolean(e.match(/Android/i)),t=()=>Boolean(e.match(/iPhone|iPad|iPod/i)),r=()=>Boolean(n()||t());return{isAndroid:n,isIos:t,isMobile:r,isDesktop:()=>Boolean(!r()&&!o()),isSSR:o}};import{useCallback as z,useLayoutEffect as A,useState as S}from"react";import{useEffect as b,useRef as P}from"react";function d(e,o,n){let t=P();b(()=>{let r=(n==null?void 0:n.current)||window;if(!(r&&r.addEventListener))return;t.current!==o&&(t.current=o);let s=a=>{(t==null?void 0:t.current)&&t.current(a)};return r.addEventListener(e,s),()=>{r.removeEventListener(e,s)}},[e,n,o])}var m=d;function R(){let[e,o]=S(null),[n,t]=S({width:0,height:0}),r=z(()=>{t({width:(e==null?void 0:e.offsetWidth)||0,height:(e==null?void 0:e.offsetHeight)||0})},[e==null?void 0:e.offsetHeight,e==null?void 0:e.offsetWidth]);return m("resize",r),A(()=>{r()},[e==null?void 0:e.offsetHeight,e==null?void 0:e.offsetWidth]),[o,n]}import{useEffect as C,useReducer as D,useRef as g}from"react";function V(e,o){let n=g({}),t=g(!1),r={error:void 0,data:void 0},s=(c,u)=>{switch(u.type){case"loading":return{...r};case"fetched":return{...r,data:u.payload};case"error":return{...r,error:u.payload};default:return c}},[a,i]=D(s,r);return C(()=>e?((async()=>{if(i({type:"loading"}),n.current[e]){i({type:"fetched",payload:n.current[e]});return}try{let u=await fetch(e,o);if(!u.ok)throw new Error(u.statusText);let f=await u.json();if(n.current[e]=f,t.current)return;i({type:"fetched",payload:f})}catch(u){if(t.current)return;i({type:"error",payload:u})}})(),()=>{t.current=!0}):void 0,[e]),a}import{useState as p,useEffect as E}from"react";var W=(e,o=!1)=>{let[n,t]=p(!0),[r,s]=p(),[a,i]=p(),c=f=>{t(!1),i(f)},u=f=>{t(!1),s(f)};return E(()=>{navigator.geolocation.getCurrentPosition(c,u,e)},[]),E(()=>{if(o){navigator.geolocation.getCurrentPosition(c,u,e);let f=navigator.geolocation.watchPosition(c,u,e);return()=>{navigator.geolocation.clearWatch(f)}}}),{loading:n,error:r,position:a}};import{useEffect as k,useLayoutEffect as H,useRef as I}from"react";function O(e,o){let n=I(e);H(()=>{n.current=e},[e]),k(()=>{if(!o&&o!==0)return;let t=setInterval(()=>n.current(),o);return()=>clearInterval(t)},[o])}import{useEffect as M,useState as $}from"react";function j(e){let[o,n]=$(!1);function t({key:s}){s===e&&n(!0)}let r=({key:s})=>{s===e&&n(!1)};return M(()=>(window.addEventListener("keydown",t),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",r)}),[]),o}import{useEffect as F,useState as G}from"react";function B(e,o){let n=()=>{if(typeof window=="undefined")return o;try{let i=window.localStorage.getItem(e);return i?q(i):o}catch(i){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,i),o}},[t,r]=G(n),s=i=>{typeof window=="undefined"&&console.warn(`Tried setting localStorage key \u201C${e}\u201D even though environment is not a client`);try{let c=i instanceof Function?i(t):i;window.localStorage.setItem(e,JSON.stringify(c)),r(c),window.dispatchEvent(new Event("local-storage"))}catch(c){console.warn(`Error setting localStorage key \u201C${e}\u201D:`,c)}};F(()=>{r(n())},[]);let a=()=>{r(n())};return d("storage",a),d("local-storage",a),[t,s]}function q(e){try{return e==="undefined"?void 0:JSON.parse(e!=null?e:"")}catch{console.log("parsing error on",{value:e});return}}import{useRef as J,useEffect as K}from"react";function N(e){let o=J();return K(()=>{o.current=e},[e]),o.current}import{useEffect as U,useState as Y}from"react";function Q(e){let o=()=>{if(typeof window=="undefined")return null;try{let s=window.localStorage.getItem(e);return s?JSON.parse(s):null}catch(s){return console.warn(`Error reading localStorage key \u201C${e}\u201D:`,s),null}},[n,t]=Y(o);U(()=>{t(o())},[]);let r=()=>{t(o())};return d("storage",r),d("local-storage",r),n}import{useLayoutEffect as X,useState as Z}from"react";function _(){let e=()=>{if(typeof window!="undefined"&&window.screen)return window.screen},[o,n]=Z(e());function t(){n(e())}return d("resize",t),X(()=>{t()},[]),o}import{useEffect as ee,useState as te}from"react";function re(e){let[o,n]=te(e?"loading":"idle");return ee(()=>{if(!e){n("idle");return}let t=document.querySelector(`script[src="${e}"]`);if(t)n(t.getAttribute("data-status"));else{t=document.createElement("script"),t.src=e,t.async=!0,t.setAttribute("data-status","loading"),document.body.appendChild(t);let s=a=>{t==null||t.setAttribute("data-status",a.type==="load"?"ready":"error")};t.addEventListener("load",s),t.addEventListener("error",s)}let r=s=>{n(s.type==="load"?"ready":"error")};return t.addEventListener("load",r),t.addEventListener("error",r),()=>{t&&(t.removeEventListener("load",r),t.removeEventListener("error",r))}},[e]),o}import{useEffect as oe,useState as ne}from"react";function se(e,o){let[n,t]=ne(e||o?"loading":"idle");return oe(()=>{if(!e||!o){t("idle");return}let r=document.querySelector(`style[id="${e}"]`);if(r)t(r.getAttribute("data-status"));else{r=document.createElement("style"),r.innerHTML=o,r.setAttribute("data-status","loading"),document.body.appendChild(r);let a=i=>{r==null||r.setAttribute("data-status",i.type==="load"?"ready":"error")};r.addEventListener("load",a),r.addEventListener("error",a)}let s=a=>{t(a.type==="load"?"ready":"error")};return r.addEventListener("load",s),r.addEventListener("error",s),()=>{r&&(r.removeEventListener("load",s),r.removeEventListener("error",s))}},[o]),n}import{useLayoutEffect as ie}from"react";function ae(e){ie(()=>{for(let o in e)document.documentElement.style.setProperty(`--${o}`,e[o])},[e])}import{useCallback as ue,useState as ce}from"react";function de(e=!1){let[o,n]=ce(e),t=ue(()=>n(r=>!r),[]);return[o,t]}import{useEffect as fe,useRef as le}from"react";function pe(e,o){let n=le();fe(()=>{if(n.current){let t=Object.keys({...n.current,...o}),r={};t.forEach(s=>{n.current[s]!==o[s]&&(r[s]={from:n.current[s],to:o[s]})}),Object.keys(r).length&&console.log("[why-did-you-update]",e,r)}n.current=o})}import{useLayoutEffect as me,useState as Se}from"react";function ge(){let[e,o]=Se({width:0,height:0}),n=()=>{o({width:window.innerWidth,height:window.innerHeight})};return d("resize",n),me(()=>{n()},[]),e}export{v as useAsync,T as useDebounce,L as useDeviceDetect,R as useElementSize,d as useEventListener,V as useFetch,W as useGeolocation,O as useInterval,j as useKeyPress,B as useLocalStorage,N as usePrevious,Q as useReadLocalStorage,_ as useScreen,re as useScript,se as useStyles,ae as useTheme,de as useToggle,pe as useWhyDidYouUpdate,ge as useWindowSize};
